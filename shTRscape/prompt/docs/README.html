<!DOCTYPE html><html>
<!--
  Autogenerated from html_tru using STDIN
  do not edit this file, look for above mentioned and make your changes there.
  or you may loose all your changes and probably choose the wrong method.
-->
<head>
  <meta name="generator" content="html_tru (www.strux.net)"/>
  <title>An elaborated prompt for bash and/or zsh</title>
</head>
<body>
<a name="Prompt"></a>
<h1>Prompt</h1>
<div>
<br/>
<img src="prompt.jpg"/><br/>

prompt
<br/>
<br/>
<a name="How20to20use20prompt2esh"></a>
<h2>How to use prompt.sh</h2>
<div>
source this file from your .bashrc (rsp .zshrc) with
<br/><table summary="" class="statements">
<tr class="coderow">
  <td class="code"><kbd>. ~/strux/prompt.sh</kbd></td>
</tr>
</table><br/>
or copy it anywhere and source it like in
<br/><table summary="" class="statements">
<tr class="coderow">
  <td class="code"><kbd>. /anywhere/prompt.sh</kbd></td>
</tr>
</table><br/>
</div>
<a name="What20prompt2esh20requires"></a>
<h2>What prompt.sh requires</h2>
<div>
prompt.sh works best with bash (version 2 or later).
Furthermore a decent terminal-program knowing the xterm color-codes is supposed to be running underneath the bash.
<br/>
Good candidates are
<ul>
<li>xterm
</li>
<li>Eterm
</li>
<li>linux console
</li>
<li>putty
</li>
<li>cygwin
</li>
</ul>
</div>
<a name="What20prompt2esh20does"></a>
<h2>What prompt.sh does</h2>
<div>
sets bash's and zsh's prompting capability to prompt as follows
<br/><table summary="" class="statements">
<tr class="coderow">
  <td class="code"><kbd>&nbsp;&nbsp;user@host 3 /tmp 2/502 20:21:18 1 OK</kbd></td>
</tr>
</table><br/>
where
<table>
<tr>
  <td>user</td>
  <td>username</td>
</tr>
<tr>
  <td>host</td>
  <td>hostname</td>
</tr>
<tr>
  <td>3</td>
  <td>the tty</td>
</tr>
<tr>
  <td>/tmp</td>
  <td>the current directory (PWD)</td>
</tr>
<tr>
  <td>2</td>
  <td>the number of this command</td>
</tr>
<tr>
  <td>502</td>
  <td>the number of commands in the history (not for zsh)</td>
</tr>
<tr>
  <td>20:21:18</td>
  <td>the current time</td>
</tr>
<tr>
  <td>1</td>
  <td>the number of background jobs</td>
</tr>
<tr>
  <td>OK</td>
  <td>the last command exited without error (else shows errorcode)</td>
</tr>
<tr><td></td></tr>
</table><br/>
The input-cursor starts on a line of it's own.
<br/>
The fields are colored according to some situations
<ul>
<li>user
</li>
<ul>
<li>red if user is root
</li>
<li>green otherwise
</li>
</ul>
<li>host
</li>
<ul>
<li>blue normally
</li>
<li>brown if $HOSTDISPLAY is set
</li>
<ul>
<li>This is good to distinguish local from other sessions.
For local sessions HOSTDISPLAY is set to something like host:0.0, for
ssh sessions or after a "su - username" HOSTDISPLAY is unset.
</li>
</ul>
</ul>
<li>directory (PWD)
</li>
<ul>
<li>green normally
</li>
<li>underlined green, if more directories are on the dir-stack
</li>
<li>red, if PWD does not exist.
</li>
</ul>
<li>number of background jobs
</li>
<ul>
<li>white, if no background-jobs are present
</li>
<li>blue, otherwise
</li>
</ul>
<li>error code
</li>
<ul>
<li>same color as before if no error
</li>
<li>inverted red, if an error occurred
</li>
<br/>
</ul>
</ul>
Furthermore, it prevents you from exiting the shell with ^D if either
<ul>
<li>some background-jobs are still present, or
</li>
<li>the directory-stack is not empty
</li>
</ul>
</div>
<a name="Downloading20prompt2esh"></a>
<h2>Downloading prompt.sh</h2>
<div>
Get <a href="../prompt.sh" >prompt.sh</a> (1kB) here
</div>
<a name="The20tru20source20of20prompt2esh"></a>
<h2>The tru source of prompt.sh</h2>
<div>
Here's how prompt.sh is produced:
<ul>
<li><a href="sh_tru.html" >sh_tru</a> <a href="examples/shTRscape/prompt/prompt.shTR" >prompt.shTR</a> &gt; <a href="../prompt.sh" >prompt.sh</a>
</li>
</ul>
</div>
</div>
</body>
</html>
