# Autogenerated makefile
# by :
#   m_tru mTR >makefile
#
m_diff=bash -c 'if ! diff -a -q $$1 ok/$$1 >/dev/null ; then echo -e "BAD\t$$1\tok/$$1" ; else echo -e "GOOD\t$$1" ; fi ; ' m_diff
m_copy=bash -c 'if ! diff -a -q $$1 $$2    >/dev/null ; then echo copying $$1 $$2; cp -p $$1 $$2 ; fi ; ' m_copy
ALL:\
  state_tru\
  indent_tru\
  level_tru\
  rindent_and_rlevel_tru\
  rnr_tru\
  NrOfChilds_tru\
  NrOfLinesFollowing_tru\
  isLast_tru\
  ATTIC_tru\

install install_ALL:\
  install_state_tru\
  install_indent_tru\
  install_level_tru\
  install_rindent_and_rlevel_tru\
  install_rnr_tru\
  install_NrOfChilds_tru\
  install_NrOfLinesFollowing_tru\
  install_isLast_tru\
  install_ATTIC_tru\

test test_ALL:\
  test_state_tru\
  test_indent_tru\
  test_level_tru\
  test_rindent_and_rlevel_tru\
  test_rnr_tru\
  test_NrOfChilds_tru\
  test_NrOfLinesFollowing_tru\
  test_isLast_tru\
  test_ATTIC_tru\

logged_build:
	-@${MAKE} -B --no-print-directory ALL test_ALL 2>&1 | perl -pe 's,$$ENV{HOME}/,~/,g' >m.log # substitute /home/username with ~  (to avoid test-fails for trivial reasons)
	@${m_diff} m.log
confirmed_install: confirm install
confirm:
	@bash -c 'read -p "really install ? (^C) if not"'
install_state_tru:
	@echo  installing state_tru
	@${m_copy} state_tru ok/state_tru
test_state_tru: state_tru
	@echo  testing state_tru
	perl state_tru in
state_tru:
	@echo  building state_tru
	perl ../tru state.tru structure.tru >state_tru
	@${m_diff} state_tru
install_indent_tru:
	@echo  installing indent_tru
	@${m_copy} indent_tru ok/indent_tru
test_indent_tru: indent_tru
	@echo  testing indent_tru
	perl indent_tru in
indent_tru:
	@echo  building indent_tru
	perl ../tru indent.tru structure.tru >indent_tru
	@${m_diff} indent_tru
install_level_tru:
	@echo  installing level_tru
	@${m_copy} level_tru ok/level_tru
test_level_tru: level_tru
	@echo  testing level_tru
	perl level_tru in
level_tru:
	@echo  building level_tru
	perl ../tru level.tru structure.tru >level_tru
	@${m_diff} level_tru
install_rindent_and_rlevel_tru:
	@echo  installing rindent_and_rlevel_tru
	@${m_copy} rindent_and_rlevel_tru ok/rindent_and_rlevel_tru
test_rindent_and_rlevel_tru: rindent_and_rlevel_tru
	@echo  testing rindent_and_rlevel_tru
	perl rindent_and_rlevel_tru in
rindent_and_rlevel_tru:
	@echo  building rindent_and_rlevel_tru
	perl ../tru rindent_and_rlevel.tru structure.tru >rindent_and_rlevel_tru
	@${m_diff} rindent_and_rlevel_tru
install_rnr_tru:
	@echo  installing rnr_tru
	@${m_copy} rnr_tru ok/rnr_tru
test_rnr_tru: rnr_tru
	@echo  testing rnr_tru
	perl rnr_tru in
rnr_tru:
	@echo  building rnr_tru
	perl ../tru rnr.tru structure.tru >rnr_tru
	@${m_diff} rnr_tru
install_NrOfChilds_tru:
	@echo  installing NrOfChilds_tru
	@${m_copy} NrOfChilds_tru ok/NrOfChilds_tru
test_NrOfChilds_tru: NrOfChilds_tru
	@echo  testing NrOfChilds_tru
	perl NrOfChilds_tru in
NrOfChilds_tru:
	@echo  building NrOfChilds_tru
	perl ../tru NrOfChilds.tru structure.tru >NrOfChilds_tru
	@${m_diff} NrOfChilds_tru
install_NrOfLinesFollowing_tru:
	@echo  installing NrOfLinesFollowing_tru
	@${m_copy} NrOfLinesFollowing_tru ok/NrOfLinesFollowing_tru
test_NrOfLinesFollowing_tru: NrOfLinesFollowing_tru
	@echo  testing NrOfLinesFollowing_tru
	perl NrOfLinesFollowing_tru in
NrOfLinesFollowing_tru:
	@echo  building NrOfLinesFollowing_tru
	perl ../tru NrOfLinesFollowing.tru structure.tru >NrOfLinesFollowing_tru
	@${m_diff} NrOfLinesFollowing_tru
install_isLast_tru:
	@echo  installing isLast_tru
	@${m_copy} isLast_tru ok/isLast_tru
test_isLast_tru: isLast_tru
	@echo  testing isLast_tru
	perl isLast_tru in
isLast_tru:
	@echo  building isLast_tru
	perl ../tru isLast.tru structure.tru >isLast_tru
	@${m_diff} isLast_tru
install_ATTIC_tru:
	@echo  installing ATTIC_tru
	@${m_copy} ATTIC_tru ok/ATTIC_tru
test_ATTIC_tru: ATTIC_tru
	@echo  testing ATTIC_tru
	perl ATTIC_tru in
ATTIC_tru:
	@echo  building ATTIC_tru
	perl ../tru ATTIC.tru structure.tru >ATTIC_tru
	@${m_diff} ATTIC_tru
