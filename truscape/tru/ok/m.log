building trusupp.pl
perl -I ~/strux/lib ~/strux/bin/perl_tru trusupp.plTR >trusupp.pl
~/strux/bin/perl_tru : some text was never output (due to unset marks) when processing trusupp.plTR
  For mark mark_usage
	  -version	show version information
  For mark mark_version
	    print "  trusupp.plTR	3.2a\n";
GOOD	trusupp.pl
building trusubs.pl
perl -I ~/strux/lib ~/strux/bin/perl_tru trusubs.plTR >trusubs.pl
~/strux/bin/perl_tru : some text was never output (due to unset marks) when processing trusubs.plTR
  For mark mark_usage
	  -version	show version information
  For mark mark_version
	    print "  trusubs.plTR	3.0\n";
GOOD	trusubs.pl
building tru
perl -I ~/strux/lib  ~/strux/bin/tru tru.tru ../lib/basicUSAGE.tru >tru_tmp
GOOD	tru_tmp
perl tru_tmp -s statistics.out tru.tru >tru
GOOD	tru
GOOD	statistics.out
chmod +x tru
{ echo "tru\n  A parser-generator for structured text\n    usage"; ./tru -? 2>&1 | i -it 1 ; } >docs/README.txt
GOOD	docs/README.txt
{ sed "s/^    usage$/    code/" docs/README.txt ; echo "style\n  Title\tA parser-generator for structured text" ; } | html_tru >docs/README.html
GOOD	docs/README.html
building marktest_tru
perl ./tru marktest.tru >marktest_tru
GOOD	marktest_tru
building docexpand_tru
perl ./tru docexpand.tru >docexpand_tru
GOOD	docexpand_tru
building testStructureGroup_tru
perl ./tru testStructureGroup.tru >testStructureGroup_tru
tru : Warning 'group not defined' in testStructureGroup.tru @ 64
	you try to use group 'undefinedGroup' which is not defined
tru : Warning 'group never used' in testStructureGroup.tru @ 0
	the group 'unusedGroup' was defined but never used
GOOD	testStructureGroup_tru
building structure_demo_tru
perl ./tru structure_demo.tru >structure_demo_tru
tru : Warning 'group not defined' in structure_demo.tru @ 590
	you try to use group 'undefinedGroup' which is not defined
tru : Warning 'Too many regexps' in structure_demo.tru @ 632
	you specified more regular expressions than fields in 'too many regexes'
tru : Warning 'Too many regexps' in structure_demo.tru @ 633
	you specified more regular expressions than fields in 'too many regexes'
tru : Warning 'fields after star' in structure_demo.tru @ 634
	the field '*' is pointless after the preceding *
tru : Warning 'fields after star' in structure_demo.tru @ 635
	the field 'field' is pointless after the preceding *
tru : Warning 'Indicator for [] given' in structure_demo.tru @ 637
	the indicator is ingored
tru : Warning 'group not defined' in structure_demo.tru @ 638
	you try to use group 'undefined group' which is not defined
tru : Warning 'group never used' in structure_demo.tru @ 0
	the group 'never used group' was defined but never used
tru : Warning 'group never used' in structure_demo.tru @ 0
	the group 'unusedGroup' was defined but never used
GOOD	structure_demo_tru
building test16_tru
perl ./tru test16.tru >test16_tru
GOOD	test16_tru
building test17_tru
perl ./tru -q test17.tru >test17_tru
GOOD	test17_tru
building test15_tru
perl ./tru -q test15.tru tracemarks.tru >test15_tru
GOOD	test15_tru
building test_explicit_tru
perl ./tru -q test_explicit.tru >test_explicit_tru
GOOD	test_explicit_tru
building test_unshiftREAD_tru
perl ./tru -q test_unshiftREAD.tru >test_unshiftREAD_tru
GOOD	test_unshiftREAD_tru
building test1_tru
perl ./tru -q -s statistics.out1 test1.tru test1a.tru >test1_tru
GOOD	test1_tru
GOOD	statistics.out1
building test_rnr_tru
perl ./tru -q test_rnr.tru >test_rnr_tru
GOOD	test_rnr_tru
building test2_tru
perl ./tru -q test2.tru >test2_tru
GOOD	test2_tru
building test3_tru
perl ./tru -q test3.tru >test3_tru
GOOD	test3_tru
building test4_tru
perl ./tru -q test4.tru >test4_tru
GOOD	test4_tru
building test5_tru
perl ./tru -q test5.tru >test5_tru
GOOD	test5_tru
building test6_tru
perl ./tru -q test6.tru >test6_tru
GOOD	test6_tru
building test7s1_tru
perl ./tru test7scommon.tru test7s1.tru unroll.tru >test7s1_tru
tru : Warning 'first usage should have shortdesc' in test7scommon.tru @ 2
	Exactly the first USAGE should have a short-description
GOOD	test7s1_tru
building test7s2_tru
perl ./tru test7scommon.tru test7s2.tru unroll.tru >test7s2_tru
tru : Warning 'first usage should have shortdesc' in test7scommon.tru @ 2
	Exactly the first USAGE should have a short-description
GOOD	test7s2_tru
building test7s3_tru
perl ./tru test7scommon.tru test7s3.tru unroll.tru >test7s3_tru
tru : Warning 'first usage should have shortdesc' in test7scommon.tru @ 2
	Exactly the first USAGE should have a short-description
GOOD	test7s3_tru
building test7_tru
perl ./tru -q test7.tru unroll.tru >test7_tru
GOOD	test7_tru
building test8_tru
perl ./tru -q test8.tru >test8_tru
GOOD	test8_tru
building test9_tru
perl ./tru -q test9.tru >test9_tru
GOOD	test9_tru
building test10_tru
perl ./tru -q test10.tru >test10_tru
GOOD	test10_tru
building test11_tru
perl ./tru -q test11.tru >test11_tru
GOOD	test11_tru
building test12_tru
perl ./tru -q test12.tru >test12_tru
GOOD	test12_tru
building test13_tru
perl ./tru -q test13.tru >test13_tru
GOOD	test13_tru
building test14_tru
perl ./tru -q test14.tru >test14_tru
GOOD	test14_tru
building testdoc_tru
perl ./tru -s statistics.testdoc  testdoc1.tru testdoc2.tru >testdoc_tru
GOOD	testdoc_tru
GOOD	statistics.testdoc
building testREAD_tru
perl ./tru testREAD.tru >testREAD_tru
GOOD	testREAD_tru
testing trusubs.pl
perl ./trusubs.pl -version
testing tru
./tru -version
  tru.tru	3.3a
testing marktest_tru
perl ./marktest_tru marktest.in >marktest.out
./marktest_tru : some text was never output (due to unset marks) when processing marktest.in
  For mark mark_not_set
	will never be seen
GOOD	marktest.out
testing docexpand_tru
perl ./docexpand_tru tru.doc.frame >docs/tru.txtTR
GOOD	docs/tru.txtTR
html_tru docs/tru.txtTR >docs/tru.html
GOOD	docs/tru.html
testing testStructureGroup_tru
perl testStructureGroup_tru -debug -debStructure testStructureGroup.in >testStructureGroup.deb
GOOD	testStructureGroup.deb
perl testStructureGroup_tru -structure
group
  loopStatement
	W	cond	[stmt]	>	W	.*	.*
	  stmt	[cmd]		=	.*	.*
	F	cond	[stmt]	>	F	.*	.*
  unusedGroup
	whatever		=	.*
  anyStatement			can be anything
	loopStatement	=g
	printStatement	=g
	undefinedGroup	=g
  printStatement		all statements that print something to somewhere
	print	what		>	print	.*
	str			>	".*"

  mylang
	object			>
    untie
	    autodoc		>
structure
	demo for structure groups	=	demo for structure groups
	  class
	    method
	      anyStatement	=g
	      my language code	=o	my language code
		mylang		=g
	      his language code	=o	his language code
		object		>
	      his language code	=o	his language code
		  autodoc	>
	      Forever		=	Forever
	        stmt
perl testStructureGroup_tru -structure -groupExpand
structure
	demo for structure groups	=	demo for structure groups
	  class
	    method
	      W	cond	[stmt]	>	W	.*	.*
	        stmt	[cmd]		=	.*	.*
	      F	cond	[stmt]	>	F	.*	.*
	      print	what		>	print	.*
	      str			>	".*"
	      my language code	=o	my language code
	        object			>
	      my language code	=o	my language code
	          autodoc		>
	      his language code	=o	his language code
		object		>
	      his language code	=o	his language code
		  autodoc	>
	      Forever		=	Forever
	        stmt
testing structure_demo_tru
perl structure_demo_tru -debug -debStructure structure_demo.in >structure_demo.out
tru : warning : stray blanks in an empty line at structure_demo.in @ 213
GOOD	structure_demo.out
testing test16_tru
perl test16_tru test16 >test16.out
test16_tru - No match for test16 @ 11 :      wrong line 1 for testing
just for testing
test16_tru - No match for test16 @ 42 :      wrong line 2 for testing
GOOD	test16.out
perl test16_tru -debReverse 0 test16 >test16rev.deb
test16_tru - No match for test16 @ 11 :      wrong line 1 for testing
just for testing
test16_tru - No match for test16 @ 42 :      wrong line 2 for testing
GOOD	test16rev.deb
perl test16_tru -debug test16 >test16.deb
test16_tru - No match for test16 @ 11 :      wrong line 1 for testing
just for testing
test16_tru - No match for test16 @ 42 :      wrong line 2 for testing
GOOD	test16.deb
perl test16_tru -debug -deball test16 >test16all.deb
test16_tru - No match for test16 @ 11 :      wrong line 1 for testing
just for testing
test16_tru - No match for test16 @ 42 :      wrong line 2 for testing
GOOD	test16all.deb
perl test16_tru -debug -debStructure test16 >test16Structure.deb
GOOD	test16Structure.deb
testing test17_tru
perl test17_tru test17 >test17.out
GOOD	test17.out
perl test17_tru -help
usage : shorttext
this is one of the tru testsuite

OPTIONS:
       -a		text for option a
		description for this option
		  can continue on any indent
		  and	can contain tabs
       -b:type		text for option b
       -c:type[default]	text for option c

       -vhelp shows more options
makefile:246: recipe for target 'test_test17_tru' failed
make[1]: [test_test17_tru] Error 1 (ignored)
perl test17_tru -vhelp
usage : shorttext
this is one of the tru testsuite

OPTIONS:
       -a		text for option a
		description for this option
		  can continue on any indent
		  and	can contain tabs
       -b:type		text for option b
       -c:type[default]	text for option c
tru Options:
       -help			show help
       -version			show the version information
       -o:file			Write output to this file (instead of STDOUT)
       -vhelp			show detailed help
       -ohelp			only show the options
       -ovhelp			only show the tru-general options
       -stream			use stream mode
       -debug			don't parse, just print debug output
       -deball			for -debug : also output for actions without code
       -debStructure		for -debug : just trace the structure
       -debActionMap:action	for -debug : map all actions to this <action>
       -debRange:range		for -debug only print lines from <range>
       -debReverse:nr		reverse debug for outputline <nr>
       -structure		show structure and exit
       -vstructure		show structure including file-info and exit (can also be applied to -source)
       -groupExpand		only together with -structure or -vstructure : expand groups
       -source			show source and exit
       -macros			show macros (no structure) and exit
       -doc			show the docs and exit
makefile:246: recipe for target 'test_test17_tru' failed
make[1]: [test_test17_tru] Error 1 (ignored)
perl test17_tru -ohelp
       -a		text for option a
		description for this option
		  can continue on any indent
		  and	can contain tabs
       -b:type		text for option b
       -c:type[default]	text for option c
makefile:246: recipe for target 'test_test17_tru' failed
make[1]: [test_test17_tru] Error 1 (ignored)
perl test17_tru -ovhelp
       -help			show help
       -version			show the version information
       -o:file			Write output to this file (instead of STDOUT)
       -vhelp			show detailed help
       -ohelp			only show the options
       -ovhelp			only show the tru-general options
       -stream			use stream mode
       -debug			don't parse, just print debug output
       -deball			for -debug : also output for actions without code
       -debStructure		for -debug : just trace the structure
       -debActionMap:action	for -debug : map all actions to this <action>
       -debRange:range		for -debug only print lines from <range>
       -debReverse:nr		reverse debug for outputline <nr>
       -structure		show structure and exit
       -vstructure		show structure including file-info and exit (can also be applied to -source)
       -groupExpand		only together with -structure or -vstructure : expand groups
       -source			show source and exit
       -macros			show macros (no structure) and exit
       -doc			show the docs and exit
makefile:246: recipe for target 'test_test17_tru' failed
make[1]: [test_test17_tru] Error 1 (ignored)
perl test17_tru -source >test_contained.out_source
GOOD	test_contained.out_source
perl test17_tru -macros >test_contained.out_macros
GOOD	test_contained.out_macros
perl test17_tru -structure >test_contained.out_structure
GOOD	test_contained.out_structure
perl test17_tru -vstructure >test_contained.out_vstructure
GOOD	test_contained.out_vstructure
testing test15_tru
perl test15_tru -vhelp
helps debugging
This does not work in stream-mode.
Put it at the end of the chain (tru whatever.tru more.tru tracemarks.tru).
Does not work, if complicated WRITE-actions are used.
Output will be tabified.
Traces mark1, mark2, mark3, mark4 and mark5

OPTIONS:
       -limit:number[0]	enable tracemarks, stop after n lines of output
		use 0 for all lines
tru Options:
       -help			show help
       -version			show the version information
       -o:file			Write output to this file (instead of STDOUT)
       -vhelp			show detailed help
       -ohelp			only show the options
       -ovhelp			only show the tru-general options
       -stream			use stream mode
       -debug			don't parse, just print debug output
       -deball			for -debug : also output for actions without code
       -debStructure		for -debug : just trace the structure
       -debActionMap:action	for -debug : map all actions to this <action>
       -debRange:range		for -debug only print lines from <range>
       -debReverse:nr		reverse debug for outputline <nr>
       -structure		show structure and exit
       -vstructure		show structure including file-info and exit (can also be applied to -source)
       -groupExpand		only together with -structure or -vstructure : expand groups
       -source			show source and exit
       -macros			show macros (no structure) and exit
       -doc			show the docs and exit
makefile:272: recipe for target 'test_test15_tru' failed
make[1]: [test_test15_tru] Error 1 (ignored)
perl test15_tru -ohelp
       -limit:number[0]	enable tracemarks, stop after n lines of output
		use 0 for all lines
makefile:272: recipe for target 'test_test15_tru' failed
make[1]: [test_test15_tru] Error 1 (ignored)
perl test15_tru -ovhelp
       -help			show help
       -version			show the version information
       -o:file			Write output to this file (instead of STDOUT)
       -vhelp			show detailed help
       -ohelp			only show the options
       -ovhelp			only show the tru-general options
       -stream			use stream mode
       -debug			don't parse, just print debug output
       -deball			for -debug : also output for actions without code
       -debStructure		for -debug : just trace the structure
       -debActionMap:action	for -debug : map all actions to this <action>
       -debRange:range		for -debug only print lines from <range>
       -debReverse:nr		reverse debug for outputline <nr>
       -structure		show structure and exit
       -vstructure		show structure including file-info and exit (can also be applied to -source)
       -groupExpand		only together with -structure or -vstructure : expand groups
       -source			show source and exit
       -macros			show macros (no structure) and exit
       -doc			show the docs and exit
makefile:272: recipe for target 'test_test15_tru' failed
make[1]: [test_test15_tru] Error 1 (ignored)
perl test15_tru                         test15 >test15depth.out
test15_tru - No match for test15 @ 1 : 
test15_tru : some text was never output (due to unset marks) when processing test15
  For mark mark_not_set
	this text should never apear since mark_not_set is not set
GOOD	test15depth.out
perl test15_tru -debug -limit 999       test15 >test15depth.deb
test15_tru - No match for test15 @ 1 : 
test15_tru : some text was never output (due to unset marks) when processing test15
  For mark mark_not_set
	  118		 	9,27.00001,94.00007,78.00006,36.00002	117.00008/117	0	this text should never apear since mark_not_set is not set
GOOD	test15depth.deb
perl test15_tru -debReverse 0 test15 >test15rev.deb
test15_tru - No match for test15 @ 1 : 
test15_tru : some text was never output (due to unset marks) when processing test15
  For mark mark_not_set
	test15	0	<	 0	 DOC
GOOD	test15rev.deb
testing test_explicit_tru
perl test_explicit_tru -debug -deball test1 >test_explicit.out
GOOD	test_explicit.out
perl test_explicit_tru -debReverse 0 test1 >test_explicitrev.deb
GOOD	test_explicitrev.deb
testing test_unshiftREAD_tru
perl test_unshiftREAD_tru test_unshiftREAD >test_unshiftREAD.out
GOOD	test_unshiftREAD.out
perl test_unshiftREAD_tru -debReverse 0 test_unshiftREAD >test_unshiftREADrev.deb
GOOD	test_unshiftREADrev.deb
testing test1_tru
perl test1_tru         -stream test1 test1a >test1seq.out
GOOD	test1seq.out
perl test1_tru                 test1 test1a >test1depth.out
GOOD	test1depth.out
perl test1_tru -debug  -stream test1 test1a >test1seq.deb
GOOD	test1seq.deb
perl test1_tru -debug          test1 test1a >test1depth.deb
GOOD	test1depth.deb
perl test1_tru -structure >test1structure.deb
GOOD	test1structure.deb
perl test1_tru -version
  test1.tru	3.0
  test1a.tru	3.0
perl test1_tru -debReverse 0 test1 test1a >test1depthrev.deb
GOOD	test1depthrev.deb
testing test_rnr_tru
perl test_rnr_tru               test11 >test_rnr.out
GOOD	test_rnr.out
perl test_rnr_tru -debReverse 0 test11 >test_rnrrev.deb
GOOD	test_rnrrev.deb
testing test4_tru
>|emptyfile
perl test4_tru -c -b=foo    emptyfile >test4.out
GOOD	test4.out
perl test4_tru -x -b=foo    emptyfile >test4a.out
Unknown option: x
usage : shorttext
nothing special
  just for testpurposes
more shortinfo

OPTIONS:
       -a		text for option a
		Description for option a
		 and	more with tab
       -b:file[~/.t.rc]	text for option b
       -n:count[3]	the surrounding count
       -size:scale[1.5]	the scaling factor
       -root:dir[]	switch root directory
       -root:dir	switch root directory
       -c	text for option c

       -vhelp shows more options
makefile:385: recipe for target 'test_test4_tru' failed
make[1]: [test_test4_tru] Error 1 (ignored)
GOOD	test4a.out
testing test5_tru
perl test5_tru                                       test5 >test5depth.out
GOOD	test5depth.out
perl test5_tru         -debug                        test5 >test5depth.deb
GOOD	test5depth.deb
perl test5_tru -stream                               test5 >test5seq.out
GOOD	test5seq.out
perl test5_tru -stream -debug                        test5 >test5seq.deb
GOOD	test5seq.deb
perl test5_tru -stream -debug -debRange 25           test5 >test5seqrp.deb
GOOD	test5seqrp.deb
perl test5_tru -stream -debug -debRange 22-25,-5     test5 >test5seqrpmr.deb
GOOD	test5seqrpmr.deb
perl test5_tru -stream -debug -debActionMap text     test5 >test5AcionMap.deb
GOOD	test5AcionMap.deb
perl test5_tru -stream -debug -debRange 22-25,-5,1.2 test5
invald range specification : 1.2
makefile:408: recipe for target 'test_test5_tru' failed
make[1]: [test_test5_tru] Error 1 (ignored)
perl test5_tru         -debReverse 0                 test5 >test5depthrev.deb
GOOD	test5depthrev.deb
perl test5_tru -stream -debReverse 0                 test5 >test5seqrev.deb
GOOD	test5seqrev.deb
testing test6_tru
perl test6_tru test6 >test6.out
GOOD	test6.out
perl test6_tru -debug        test6 >test6.deb
GOOD	test6.deb
perl test6_tru test6 -debReverse 0 >test6rev.deb
GOOD	test6rev.deb
testing test7s1_tru
perl test7s1_tru -unroll 0 test7s.in|tabify >test7s1.out
GOOD	test7s1.out
testing test7s2_tru
perl test7s2_tru -unroll 0 test7s.in|tabify >test7s2.out
GOOD	test7s2.out
testing test7s3_tru
perl test7s3_tru -unroll 0 test7s.in|tabify >test7s3.out
GOOD	test7s3.out
testing test7_tru
perl test7_tru                          -stream test7 >test7seq.out
test7_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test7seq.out
perl test7_tru           -debug         -stream test7 >test7seq.deb
test7_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test7seq.deb
perl test7_tru -unroll 0                        test7 | tabify >test7depth.out
test7_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test7depth.out
perl test7_tru           -debug                 test7 >test7depth.deb
test7_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test7depth.deb
perl test7_tru           -debReverse 0  -stream test7 >test7seqrev.deb
test7_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test7seqrev.deb
perl test7_tru           -debReverse 0          test7 >test7depthrev.deb
test7_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test7depthrev.deb
testing test8_tru
>|emptyfile
perl test8_tru  -stream      emptyfile >test8seq.out
GOOD	test8seq.out
perl test8_tru               emptyfile >test8depth.out
GOOD	test8depth.out
testing test9_tru
perl test9_tru               -stream test9 >test9seq.out
GOOD	test9seq.out
perl test9_tru                       test9 >test9depth.out
GOOD	test9depth.out
perl test9_tru -debReverse 0 -stream test9 >test9seqrev.deb
GOOD	test9seqrev.deb
perl test9_tru -debReverse 0         test9 >test9depthrev.deb
GOOD	test9depthrev.deb
testing test10_tru
perl test10_tru -stream test7 test9 >test10seq.out
GOOD	test10seq.out
perl test10_tru         test7 test9 >test10depth.out
GOOD	test10depth.out
perl test10_tru -stream -debReverse 0 test7 test9 >test10rseqrev.deb
GOOD	test10rseqrev.deb
perl test10_tru         -debReverse 0 test7 test9 >test10rdepthrev.deb
GOOD	test10rdepthrev.deb
testing test11_tru
perl test11_tru                -stream test11 >test11.out
GOOD	test11.out
perl test11_tru -debug         -stream test11 >test11.deb
GOOD	test11.deb
perl test11_tru -debReverse 0  -stream test11 >test11seqrev0.deb
GOOD	test11seqrev0.deb
perl test11_tru -debReverse 13 -stream test11 >test11seqrev13.deb
GOOD	test11seqrev13.deb
perl test11_tru -debReverse 0          test11 >test11depthrev0.deb
GOOD	test11depthrev0.deb
perl test11_tru -debReverse 13         test11 >test11depthrev13.deb
GOOD	test11depthrev13.deb
testing test12_tru
perl test12_tru               test7 >test12.out
test12_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test12.out
perl test12_tru -debReverse 0 test7 >test12rev.deb
test12_tru - No match for test7 @ 4 :     this line should not match and an automatically generated UNMATCHED should catch this line
GOOD	test12rev.deb
testing test13_tru
perl test13_tru                       -stream test13 >test13seq.out
GOOD	test13seq.out
perl test13_tru                               test13 >test13depth.out
GOOD	test13depth.out
perl test13_tru -debReverse 0         -stream test13 >test13seqrev.deb
GOOD	test13seqrev.deb
perl test13_tru -debReverse 0                 test13 >test13depthrev.deb
GOOD	test13depthrev.deb
testing testdoc_tru
perl testdoc_tru -source >testdocFromSource.tru
GOOD	testdocFromSource.tru
perl testdoc_tru -doc >testdoc.doc
GOOD	testdoc.doc
perl ./tru testdocFromSource.tru >testdocFromSource_tru
GOOD	testdocFromSource_tru
testing testREAD_tru
perl testREAD_tru testREAD.in >testREAD.out
GOOD	testREAD.out
