# Autogenerated makefile
# by :
#   m_tru mTR >makefile
#
m_diff=bash -c 'if ! diff -a -q $$1 ok/$$1 >/dev/null ; then echo -e "BAD\t$$1\tok/$$1" ; else echo -e "GOOD\t$$1" ; fi ; ' m_diff
m_copy=bash -c 'if ! diff -a -q $$1 $$2    >/dev/null ; then echo copying $$1 $$2; cp -p $$1 $$2 ; fi ; ' m_copy
ALL:\
  intro_tru\
  OPTIONSandUSAGE_tru\
  OPTIONSandUSAGE_part2_tru\
  CLEAR_tru\
  outstatements_tru\
  callingActions_tru\
  redirectingActions_tru\
  arguments_tru\
  perl_code_tru\
  marks_tru\
  DOC_tru\
  UNMATCHED_default_tru\
  UNMATCHED_tru\
  READ_tru\
  ATTICREAD_tru\
  READempty_tru\
  WRITE_tru\
  FLUSH_tru\
  NEWFILE_tru\
  BEGIN_tru\
  HereText_tru\

install install_ALL:\
  install_intro_tru\
  install_OPTIONSandUSAGE_tru\
  install_OPTIONSandUSAGE_part2_tru\
  install_CLEAR_tru\
  install_outstatements_tru\
  install_callingActions_tru\
  install_redirectingActions_tru\
  install_arguments_tru\
  install_perl_code_tru\
  install_marks_tru\
  install_DOC_tru\
  install_UNMATCHED_default_tru\
  install_UNMATCHED_tru\
  install_READ_tru\
  install_ATTICREAD_tru\
  install_READempty_tru\
  install_WRITE_tru\
  install_FLUSH_tru\
  install_NEWFILE_tru\
  install_BEGIN_tru\
  install_HereText_tru\

test test_ALL:\
  test_intro_tru\
  test_OPTIONSandUSAGE_tru\
  test_OPTIONSandUSAGE_part2_tru\
  test_CLEAR_tru\
  test_outstatements_tru\
  test_callingActions_tru\
  test_redirectingActions_tru\
  test_arguments_tru\
  test_perl_code_tru\
  test_marks_tru\
  test_DOC_tru\
  test_UNMATCHED_default_tru\
  test_UNMATCHED_tru\
  test_READ_tru\
  test_ATTICREAD_tru\
  test_READempty_tru\
  test_WRITE_tru\
  test_FLUSH_tru\
  test_NEWFILE_tru\
  test_BEGIN_tru\
  test_HereText_tru\

logged_build:
	-@${MAKE} --no-print-directory test_ALL 2>&1 | perl -pe 's,$$ENV{HOME}/,~/,g' >m.log # substitute /home/username with ~  (to avoid test-fails for trivial reasons)
	@${m_diff} m.log
confirmed_install: confirm install
confirm:
	@bash -c 'read -p "really install ? (^C) if not"'
install_intro_tru:
	@echo  installing intro_tru
	@${m_copy} intro_tru ok/intro_tru
test_intro_tru: intro_tru
	@echo  testing intro_tru
	perl intro_tru intro.in
.PHONY: intro_tru
intro_tru:
	@echo  building intro_tru
	perl ../tru intro.tru >intro_tru
	@${m_diff} intro_tru
install_OPTIONSandUSAGE_tru:
	@echo  installing OPTIONSandUSAGE_tru
	@${m_copy} OPTIONSandUSAGE_tru ok/OPTIONSandUSAGE_tru
test_OPTIONSandUSAGE_tru: OPTIONSandUSAGE_tru
	@echo  testing OPTIONSandUSAGE_tru
	echo "sentinel" | perl OPTIONSandUSAGE_tru
	echo "sentinel" | perl OPTIONSandUSAGE_tru -a -b /tmp/x -c /tmp/y -longName
	-echo "sentinel" | perl OPTIONSandUSAGE_tru -z
	perl OPTIONSandUSAGE_tru -version
.PHONY: OPTIONSandUSAGE_tru
OPTIONSandUSAGE_tru:
	@echo  building OPTIONSandUSAGE_tru
	perl ../tru OPTIONSandUSAGE.tru >OPTIONSandUSAGE_tru
	@${m_diff} OPTIONSandUSAGE_tru
install_OPTIONSandUSAGE_part2_tru:
	@echo  installing OPTIONSandUSAGE_part2_tru
	@${m_copy} OPTIONSandUSAGEpart2_tru ok/OPTIONSandUSAGEpart2_tru
test_OPTIONSandUSAGE_part2_tru: OPTIONSandUSAGE_part2_tru
	@echo  testing OPTIONSandUSAGE_part2_tru
	echo "sentinel" | perl OPTIONSandUSAGEpart2_tru
	echo "sentinel" | perl OPTIONSandUSAGEpart2_tru -a -b /tmp/x -c /tmp/y
	-echo "sentinel" | perl OPTIONSandUSAGEpart2_tru -z
	perl OPTIONSandUSAGEpart2_tru -version
.PHONY: OPTIONSandUSAGE_part2_tru
OPTIONSandUSAGE_part2_tru:
	@echo  building OPTIONSandUSAGE_part2_tru
	perl ../tru OPTIONSandUSAGE.tru OPTIONSandUSAGEpart2.tru >OPTIONSandUSAGEpart2_tru
	@${m_diff} OPTIONSandUSAGEpart2_tru
install_CLEAR_tru:
	@echo  installing CLEAR_tru
	@${m_copy} CLEAR_tru ok/CLEAR_tru
test_CLEAR_tru: CLEAR_tru
	@echo  testing CLEAR_tru
	echo "overwrittenAction" | perl CLEAR_tru
.PHONY: CLEAR_tru
CLEAR_tru:
	@echo  building CLEAR_tru
	perl ../tru CLEAR.tru >CLEAR_tru
	@${m_diff} CLEAR_tru
install_outstatements_tru:
	@echo  installing outstatements_tru
	@${m_copy} outstatements_tru ok/outstatements_tru
test_outstatements_tru: outstatements_tru
	@echo  testing outstatements_tru
	echo "demoAction" | perl outstatements_tru
.PHONY: outstatements_tru
outstatements_tru:
	@echo  building outstatements_tru
	perl ../tru outstatements.tru >outstatements_tru
	@${m_diff} outstatements_tru
install_callingActions_tru:
	@echo  installing callingActions_tru
	@${m_copy} callingActions_tru ok/callingActions_tru
test_callingActions_tru: callingActions_tru
	@echo  testing callingActions_tru
	perl callingActions_tru callingActions.in
.PHONY: callingActions_tru
callingActions_tru:
	@echo  building callingActions_tru
	perl ../tru callingActions.tru >callingActions_tru
	@${m_diff} callingActions_tru
install_redirectingActions_tru:
	@echo  installing redirectingActions_tru
	@${m_copy} redirectingActions_tru ok/redirectingActions_tru
test_redirectingActions_tru: redirectingActions_tru
	@echo  testing redirectingActions_tru
	perl redirectingActions_tru redirectingActions.in
.PHONY: redirectingActions_tru
redirectingActions_tru:
	@echo  building redirectingActions_tru
	perl ../tru redirectingActions.tru >redirectingActions_tru
	@${m_diff} redirectingActions_tru
install_arguments_tru:
	@echo  installing arguments_tru
	@${m_copy} arguments_tru ok/arguments_tru
test_arguments_tru: arguments_tru
	@echo  testing arguments_tru
	perl arguments_tru arguments.in
.PHONY: arguments_tru
arguments_tru:
	@echo  building arguments_tru
	perl ../tru arguments.tru >arguments_tru
	@${m_diff} arguments_tru
install_perl_code_tru:
	@echo  installing perl_code_tru
	@${m_copy} perl_code_tru ok/perl_code_tru
test_perl_code_tru: perl_code_tru
	@echo  testing perl_code_tru
	perl perl_code_tru perl_code.in
.PHONY: perl_code_tru
perl_code_tru:
	@echo  building perl_code_tru
	perl ../tru perl_code.tru >perl_code_tru
	@${m_diff} perl_code_tru
install_marks_tru:
	@echo  installing marks_tru
	@${m_copy} marks_tru ok/marks_tru
test_marks_tru: marks_tru
	@echo  testing marks_tru
	perl marks_tru marks.in
.PHONY: marks_tru
marks_tru:
	@echo  building marks_tru
	perl ../tru marks.tru >marks_tru
	@${m_diff} marks_tru
install_DOC_tru:
	@echo  installing DOC_tru
	@${m_copy} DOC_tru ok/DOC_tru
test_DOC_tru: DOC_tru
	@echo  testing DOC_tru
	perl DOC_tru DOC.in1 DOC.in2
.PHONY: DOC_tru
DOC_tru:
	@echo  building DOC_tru
	perl ../tru DOC.tru >DOC_tru
	@${m_diff} DOC_tru
install_UNMATCHED_default_tru:
	@echo  installing UNMATCHED_default_tru
	@${m_copy} UNMATCHED_default_tru ok/UNMATCHED_default_tru
test_UNMATCHED_default_tru: UNMATCHED_default_tru
	@echo  testing UNMATCHED_default_tru
	perl UNMATCHED_default_tru UNMATCHED.in
.PHONY: UNMATCHED_default_tru
UNMATCHED_default_tru:
	@echo  building UNMATCHED_default_tru
	perl ../tru UNMATCHED_default.tru >UNMATCHED_default_tru
	@${m_diff} UNMATCHED_default_tru
install_UNMATCHED_tru:
	@echo  installing UNMATCHED_tru
	@${m_copy} UNMATCHED_tru ok/UNMATCHED_tru
test_UNMATCHED_tru: UNMATCHED_tru
	@echo  testing UNMATCHED_tru
	perl UNMATCHED_tru UNMATCHED.in
.PHONY: UNMATCHED_tru
UNMATCHED_tru:
	@echo  building UNMATCHED_tru
	perl ../tru UNMATCHED_default.tru UNMATCHED.tru >UNMATCHED_tru
	@${m_diff} UNMATCHED_tru
install_READ_tru:
	@echo  installing READ_tru
	@${m_copy} READ_tru ok/READ_tru
test_READ_tru: READ_tru
	@echo  testing READ_tru
	perl READ_tru READ.in
.PHONY: READ_tru
READ_tru:
	@echo  building READ_tru
	perl ../tru READ.tru >READ_tru
	@${m_diff} READ_tru
install_ATTICREAD_tru:
	@echo  installing ATTICREAD_tru
	@${m_copy} ATTICREAD_tru ok/ATTICREAD_tru
test_ATTICREAD_tru: ATTICREAD_tru
	@echo  testing ATTICREAD_tru
	perl ATTICREAD_tru ATTICREAD.in
.PHONY: ATTICREAD_tru
ATTICREAD_tru:
	@echo  building ATTICREAD_tru
	perl ../tru ATTICREAD.tru >ATTICREAD_tru
	@${m_diff} ATTICREAD_tru
install_READempty_tru:
	@echo  installing READempty_tru
	@${m_copy} READempty_tru ok/READempty_tru
test_READempty_tru: READempty_tru
	@echo  testing READempty_tru
	perl READempty_tru READempty.in
.PHONY: READempty_tru
READempty_tru:
	@echo  building READempty_tru
	perl ../tru READempty.tru >READempty_tru
	@${m_diff} READempty_tru
install_WRITE_tru:
	@echo  installing WRITE_tru
	@${m_copy} WRITE_tru ok/WRITE_tru
test_WRITE_tru: WRITE_tru
	@echo  testing WRITE_tru
	echo "anything" | perl WRITE_tru -stream
	echo "anything" | perl WRITE_tru
.PHONY: WRITE_tru
WRITE_tru:
	@echo  building WRITE_tru
	perl ../tru WRITE.tru >WRITE_tru
	@${m_diff} WRITE_tru
install_FLUSH_tru:
	@echo  installing FLUSH_tru
	@${m_copy} FLUSH_tru ok/FLUSH_tru
test_FLUSH_tru: FLUSH_tru
	@echo  testing FLUSH_tru
	echo "anything" | perl FLUSH_tru
.PHONY: FLUSH_tru
FLUSH_tru:
	@echo  building FLUSH_tru
	perl ../tru FLUSH.tru >FLUSH_tru
	@${m_diff} FLUSH_tru
install_NEWFILE_tru:
	@echo  installing NEWFILE_tru
	@${m_copy} NEWFILE_tru ok/NEWFILE_tru
test_NEWFILE_tru: NEWFILE_tru
	@echo  testing NEWFILE_tru
	perl NEWFILE_tru NEWFILE1.in NEWFILE2.in
.PHONY: NEWFILE_tru
NEWFILE_tru:
	@echo  building NEWFILE_tru
	perl ../tru NEWFILE.tru >NEWFILE_tru
	@${m_diff} NEWFILE_tru
install_BEGIN_tru:
	@echo  installing BEGIN_tru
	@${m_copy} BEGIN_tru ok/BEGIN_tru
test_BEGIN_tru: BEGIN_tru
	@echo  testing BEGIN_tru
	echo "anything" | perl BEGIN_tru
.PHONY: BEGIN_tru
BEGIN_tru:
	@echo  building BEGIN_tru
	perl ../tru BEGIN.tru >BEGIN_tru
	@${m_diff} BEGIN_tru
install_HereText_tru:
	@echo  installing HereText_tru
	@${m_copy} HereText_tru ok/HereText_tru
test_HereText_tru: HereText_tru
	@echo  testing HereText_tru
	echo "anything" | perl HereText_tru
.PHONY: HereText_tru
HereText_tru:
	@echo  building HereText_tru
	perl ../tru HereText.tru >HereText_tru
	@${m_diff} HereText_tru
